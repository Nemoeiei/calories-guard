--
-- PostgreSQL database dump
--

\restrict DtSm99PzWt4I3thzG6MqsY4KoqaSMLV5ULrymnbdgcpP9O6Wx8O2LkOTG54f2bh

-- Dumped from database version 18.1
-- Dumped by pg_dump version 18.1

-- Started on 2026-01-23 21:40:14

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 5 (class 2615 OID 2200)
-- Name: cleangoal; Type: SCHEMA; Schema: -; Owner: pg_database_owner
--

CREATE SCHEMA cleangoal;


ALTER SCHEMA cleangoal OWNER TO pg_database_owner;

--
-- TOC entry 5383 (class 0 OID 0)
-- Dependencies: 5
-- Name: SCHEMA cleangoal; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA cleangoal IS 'standard public schema';


--
-- TOC entry 911 (class 1247 OID 25260)
-- Name: activity_level; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.activity_level AS ENUM (
    'sedentary',
    'lightly_active',
    'moderately_active',
    'very_active'
);


ALTER TYPE cleangoal.activity_level OWNER TO postgres;

--
-- TOC entry 914 (class 1247 OID 25270)
-- Name: content_type; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.content_type AS ENUM (
    'article',
    'video'
);


ALTER TYPE cleangoal.content_type OWNER TO postgres;

--
-- TOC entry 917 (class 1247 OID 25276)
-- Name: food_type; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.food_type AS ENUM (
    'raw_ingredient',
    'recipe_dish'
);


ALTER TYPE cleangoal.food_type OWNER TO postgres;

--
-- TOC entry 920 (class 1247 OID 25282)
-- Name: gender_type; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.gender_type AS ENUM (
    'male',
    'female'
);


ALTER TYPE cleangoal.gender_type OWNER TO postgres;

--
-- TOC entry 908 (class 1247 OID 25252)
-- Name: goal_type_enum; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.goal_type_enum AS ENUM (
    'lose_weight',
    'maintain_weight',
    'gain_muscle'
);


ALTER TYPE cleangoal.goal_type_enum OWNER TO postgres;

--
-- TOC entry 923 (class 1247 OID 25288)
-- Name: meal_type; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.meal_type AS ENUM (
    'breakfast',
    'lunch',
    'dinner',
    'snack'
);


ALTER TYPE cleangoal.meal_type OWNER TO postgres;

--
-- TOC entry 926 (class 1247 OID 25298)
-- Name: notification_type; Type: TYPE; Schema: cleangoal; Owner: postgres
--

CREATE TYPE cleangoal.notification_type AS ENUM (
    'system_alert',
    'achievement',
    'content_update'
);


ALTER TYPE cleangoal.notification_type OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 262 (class 1259 OID 25543)
-- Name: achievements; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.achievements (
    achievement_id integer NOT NULL,
    name character varying NOT NULL,
    description character varying,
    icon_url character varying,
    criteria_type character varying,
    criteria_value integer
);


ALTER TABLE cleangoal.achievements OWNER TO postgres;

--
-- TOC entry 261 (class 1259 OID 25542)
-- Name: achievements_achievement_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.achievements ALTER COLUMN achievement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.achievements_achievement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 25346)
-- Name: allergy_flags; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.allergy_flags (
    flag_id integer NOT NULL,
    name character varying NOT NULL,
    description character varying
);


ALTER TABLE cleangoal.allergy_flags OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 25345)
-- Name: allergy_flags_flag_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.allergy_flags ALTER COLUMN flag_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.allergy_flags_flag_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 275 (class 1259 OID 25613)
-- Name: content_view_logs; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.content_view_logs (
    log_id bigint NOT NULL,
    user_id bigint,
    content_id bigint,
    viewed_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.content_view_logs OWNER TO postgres;

--
-- TOC entry 274 (class 1259 OID 25612)
-- Name: content_view_logs_log_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.content_view_logs ALTER COLUMN log_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.content_view_logs_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 260 (class 1259 OID 25533)
-- Name: daily_recommendations; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.daily_recommendations (
    recommendation_id bigint NOT NULL,
    user_id bigint,
    date_for date,
    meal_type cleangoal.meal_type,
    food_id bigint,
    reason_text character varying,
    is_accepted boolean DEFAULT false
);


ALTER TABLE cleangoal.daily_recommendations OWNER TO postgres;

--
-- TOC entry 259 (class 1259 OID 25532)
-- Name: daily_recommendations_recommendation_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.daily_recommendations ALTER COLUMN recommendation_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.daily_recommendations_recommendation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 244 (class 1259 OID 25448)
-- Name: daily_summaries; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.daily_summaries (
    summary_id bigint NOT NULL,
    user_id bigint,
    date_record date DEFAULT CURRENT_DATE,
    water_intake_glasses integer DEFAULT 0,
    total_calories_intake numeric(10,2) DEFAULT 0,
    total_protein numeric(10,2) DEFAULT 0,
    total_carbs numeric(10,2) DEFAULT 0,
    total_fat numeric(10,2) DEFAULT 0,
    goal_calories integer,
    is_goal_met boolean DEFAULT false
);


ALTER TABLE cleangoal.daily_summaries OWNER TO postgres;

--
-- TOC entry 243 (class 1259 OID 25447)
-- Name: daily_summaries_summary_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.daily_summaries ALTER COLUMN summary_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.daily_summaries_summary_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 25366)
-- Name: favorite_foods; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.favorite_foods (
    favorite_id bigint NOT NULL,
    user_id bigint,
    food_id bigint,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.favorite_foods OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 25365)
-- Name: favorite_foods_favorite_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.favorite_foods ALTER COLUMN favorite_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.favorite_foods_favorite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 25387)
-- Name: food_allergy_flags; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.food_allergy_flags (
    food_id bigint NOT NULL,
    flag_id integer NOT NULL
);


ALTER TABLE cleangoal.food_allergy_flags OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 25395)
-- Name: food_sources; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.food_sources (
    source_id bigint NOT NULL,
    food_id bigint,
    source_name character varying,
    source_url character varying,
    raw_calories numeric(6,2),
    recorded_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.food_sources OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 25394)
-- Name: food_sources_source_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.food_sources ALTER COLUMN source_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.food_sources_source_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 25374)
-- Name: foods; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.foods (
    food_id bigint NOT NULL,
    food_name character varying NOT NULL,
    food_type cleangoal.food_type DEFAULT 'raw_ingredient'::cleangoal.food_type,
    calories numeric(6,2),
    protein numeric(6,2),
    carbs numeric(6,2),
    fat numeric(6,2),
    sodium numeric(6,2),
    sugar numeric(6,2),
    cholesterol numeric(6,2),
    serving_quantity numeric(6,2) DEFAULT 100,
    serving_unit character varying DEFAULT 'g'::character varying,
    image_url character varying,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone,
    deleted_at timestamp without time zone
);


ALTER TABLE cleangoal.foods OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 25373)
-- Name: foods_food_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.foods ALTER COLUMN food_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.foods_food_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 271 (class 1259 OID 25593)
-- Name: health_contents; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.health_contents (
    content_id bigint NOT NULL,
    title character varying NOT NULL,
    type cleangoal.content_type,
    thumbnail_url character varying,
    resource_url character varying,
    description text,
    category_tag character varying,
    difficulty_level character varying,
    is_published boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.health_contents OWNER TO postgres;

--
-- TOC entry 270 (class 1259 OID 25592)
-- Name: health_contents_content_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.health_contents ALTER COLUMN content_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.health_contents_content_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 248 (class 1259 OID 25471)
-- Name: meal_items; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.meal_items (
    item_id bigint NOT NULL,
    meal_id bigint,
    food_id bigint,
    amount numeric(8,2) DEFAULT 1,
    food_name character varying,
    cal_per_unit numeric(10,2),
    protein_per_unit numeric(10,2),
    carbs_per_unit numeric(10,2),
    fat_per_unit numeric(10,2),
    note character varying
);


ALTER TABLE cleangoal.meal_items OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 25470)
-- Name: meal_items_item_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.meal_items ALTER COLUMN item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.meal_items_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 246 (class 1259 OID 25462)
-- Name: meals; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.meals (
    meal_id bigint NOT NULL,
    user_id bigint,
    meal_type cleangoal.meal_type,
    meal_time timestamp without time zone DEFAULT now(),
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone
);


ALTER TABLE cleangoal.meals OWNER TO postgres;

--
-- TOC entry 245 (class 1259 OID 25461)
-- Name: meals_meal_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.meals ALTER COLUMN meal_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.meals_meal_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 266 (class 1259 OID 25561)
-- Name: notifications; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.notifications (
    notification_id bigint NOT NULL,
    user_id bigint,
    title character varying NOT NULL,
    message text,
    type cleangoal.notification_type,
    is_read boolean DEFAULT false,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.notifications OWNER TO postgres;

--
-- TOC entry 265 (class 1259 OID 25560)
-- Name: notifications_notification_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.notifications ALTER COLUMN notification_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.notifications_notification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 240 (class 1259 OID 25430)
-- Name: recipe_ingredients; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.recipe_ingredients (
    id bigint NOT NULL,
    recipe_id bigint,
    ingredient_food_id bigint,
    amount numeric(6,2),
    unit_id integer,
    calculated_grams numeric(6,2),
    note character varying
);


ALTER TABLE cleangoal.recipe_ingredients OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 25429)
-- Name: recipe_ingredients_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.recipe_ingredients ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.recipe_ingredients_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 25405)
-- Name: recipes; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.recipes (
    recipe_id bigint NOT NULL,
    food_id bigint,
    description character varying,
    instructions text,
    prep_time_minutes integer DEFAULT 0,
    cooking_time_minutes integer DEFAULT 0,
    serving_people numeric(3,1) DEFAULT 1,
    source_reference character varying,
    calculation_note text,
    created_at timestamp without time zone DEFAULT now(),
    deleted_at timestamp without time zone
);


ALTER TABLE cleangoal.recipes OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 25404)
-- Name: recipes_recipe_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.recipes ALTER COLUMN recipe_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.recipes_recipe_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 25306)
-- Name: roles; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.roles (
    role_id integer NOT NULL,
    role_name character varying NOT NULL
);


ALTER TABLE cleangoal.roles OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 25305)
-- Name: roles_role_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.roles ALTER COLUMN role_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.roles_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 268 (class 1259 OID 25573)
-- Name: system_announcements; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.system_announcements (
    announcement_id bigint NOT NULL,
    title character varying NOT NULL,
    message text,
    image_url character varying,
    target_role character varying,
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.system_announcements OWNER TO postgres;

--
-- TOC entry 267 (class 1259 OID 25572)
-- Name: system_announcements_announcement_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.system_announcements ALTER COLUMN announcement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.system_announcements_announcement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 242 (class 1259 OID 25439)
-- Name: unit_conversions; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.unit_conversions (
    conversion_id integer NOT NULL,
    food_id bigint,
    unit_id integer,
    grams_per_unit numeric(6,2) NOT NULL,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.unit_conversions OWNER TO postgres;

--
-- TOC entry 241 (class 1259 OID 25438)
-- Name: unit_conversions_conversion_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.unit_conversions ALTER COLUMN conversion_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.unit_conversions_conversion_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 238 (class 1259 OID 25420)
-- Name: units; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.units (
    unit_id integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE cleangoal.units OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 25419)
-- Name: units_unit_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.units ALTER COLUMN unit_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.units_unit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 264 (class 1259 OID 25553)
-- Name: user_achievements; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_achievements (
    id bigint NOT NULL,
    user_id bigint,
    achievement_id integer,
    earned_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_achievements OWNER TO postgres;

--
-- TOC entry 263 (class 1259 OID 25552)
-- Name: user_achievements_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_achievements ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_achievements_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 258 (class 1259 OID 25522)
-- Name: user_active_plans; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_active_plans (
    id bigint NOT NULL,
    user_id bigint,
    plan_id bigint,
    start_date date DEFAULT CURRENT_DATE,
    status character varying DEFAULT 'ACTIVE'::character varying
);


ALTER TABLE cleangoal.user_active_plans OWNER TO postgres;

--
-- TOC entry 257 (class 1259 OID 25521)
-- Name: user_active_plans_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_active_plans ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_active_plans_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 25355)
-- Name: user_allergy_preferences; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_allergy_preferences (
    user_id bigint NOT NULL,
    flag_id integer NOT NULL,
    preference_type character varying,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_allergy_preferences OWNER TO postgres;

--
-- TOC entry 256 (class 1259 OID 25513)
-- Name: user_meal_plan_items; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_meal_plan_items (
    plan_item_id bigint NOT NULL,
    plan_id bigint,
    day_number integer,
    meal_type cleangoal.meal_type,
    food_id bigint,
    note character varying
);


ALTER TABLE cleangoal.user_meal_plan_items OWNER TO postgres;

--
-- TOC entry 255 (class 1259 OID 25512)
-- Name: user_meal_plan_items_plan_item_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_meal_plan_items ALTER COLUMN plan_item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_meal_plan_items_plan_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 254 (class 1259 OID 25499)
-- Name: user_meal_plans; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_meal_plans (
    plan_id bigint NOT NULL,
    user_id bigint,
    name character varying NOT NULL,
    description text,
    source_type character varying DEFAULT 'SYSTEM'::character varying,
    ai_prompt_preferences jsonb,
    goal_tag character varying,
    duration_days integer,
    is_premium boolean DEFAULT false,
    status character varying DEFAULT 'ACTIVE'::character varying,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_meal_plans OWNER TO postgres;

--
-- TOC entry 5384 (class 0 OID 0)
-- Dependencies: 254
-- Name: COLUMN user_meal_plans.user_id; Type: COMMENT; Schema: cleangoal; Owner: postgres
--

COMMENT ON COLUMN cleangoal.user_meal_plans.user_id IS 'NULL=System Plan';


--
-- TOC entry 253 (class 1259 OID 25498)
-- Name: user_meal_plans_plan_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_meal_plans ALTER COLUMN plan_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_meal_plans_plan_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 269 (class 1259 OID 25584)
-- Name: user_read_announcements; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_read_announcements (
    user_id bigint NOT NULL,
    announcement_id bigint NOT NULL,
    read_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_read_announcements OWNER TO postgres;

--
-- TOC entry 252 (class 1259 OID 25489)
-- Name: user_reports; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_reports (
    report_id bigint NOT NULL,
    user_id bigint,
    report_type character varying,
    start_date date,
    end_date date,
    avg_daily_calories integer,
    total_weight_change numeric(5,2),
    compliance_score integer,
    insight_text text,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_reports OWNER TO postgres;

--
-- TOC entry 251 (class 1259 OID 25488)
-- Name: user_reports_report_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_reports ALTER COLUMN report_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_reports_report_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 273 (class 1259 OID 25605)
-- Name: user_saved_contents; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_saved_contents (
    id bigint NOT NULL,
    user_id bigint,
    content_id bigint,
    saved_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_saved_contents OWNER TO postgres;

--
-- TOC entry 272 (class 1259 OID 25604)
-- Name: user_saved_contents_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_saved_contents ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_saved_contents_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 25337)
-- Name: user_stats; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.user_stats (
    stat_id integer NOT NULL,
    user_id bigint,
    date_logged date DEFAULT CURRENT_DATE,
    weight_kg numeric(5,2),
    height_cm numeric(5,2),
    activity_level cleangoal.activity_level,
    bmi numeric(4,2),
    bmr numeric(6,2),
    tdee numeric(6,2),
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE cleangoal.user_stats OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 25336)
-- Name: user_stats_stat_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.user_stats ALTER COLUMN stat_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.user_stats_stat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 25318)
-- Name: users; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.users (
    user_id bigint NOT NULL,
    username character varying,
    email character varying NOT NULL,
    password_hash character varying NOT NULL,
    gender cleangoal.gender_type,
    birth_date date,
    height_cm numeric(5,2),
    current_weight_kg numeric(5,2),
    goal_type cleangoal.goal_type_enum,
    target_weight_kg numeric(5,2),
    target_calories integer,
    activity_level cleangoal.activity_level,
    goal_start_date date DEFAULT now(),
    goal_target_date date,
    last_kpi_check_date date DEFAULT now(),
    current_streak integer DEFAULT 0,
    last_login_date date,
    total_login_days integer DEFAULT 0,
    avatar_url character varying,
    role_id integer DEFAULT 2,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone,
    deleted_at timestamp without time zone
);


ALTER TABLE cleangoal.users OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 25317)
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.users ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.users_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 250 (class 1259 OID 25481)
-- Name: weight_logs; Type: TABLE; Schema: cleangoal; Owner: postgres
--

CREATE TABLE cleangoal.weight_logs (
    log_id bigint NOT NULL,
    user_id bigint,
    weight_kg numeric(5,2),
    recorded_date date DEFAULT CURRENT_DATE
);


ALTER TABLE cleangoal.weight_logs OWNER TO postgres;

--
-- TOC entry 249 (class 1259 OID 25480)
-- Name: weight_logs_log_id_seq; Type: SEQUENCE; Schema: cleangoal; Owner: postgres
--

ALTER TABLE cleangoal.weight_logs ALTER COLUMN log_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME cleangoal.weight_logs_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 5364 (class 0 OID 25543)
-- Dependencies: 262
-- Data for Name: achievements; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.achievements (achievement_id, name, description, icon_url, criteria_type, criteria_value) FROM stdin;
1	Week Warrior	\N	\N	streak	7
\.


--
-- TOC entry 5328 (class 0 OID 25346)
-- Dependencies: 226
-- Data for Name: allergy_flags; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.allergy_flags (flag_id, name, description) FROM stdin;
1	Peanuts	แพ้ถั่วลิสง
\.


--
-- TOC entry 5377 (class 0 OID 25613)
-- Dependencies: 275
-- Data for Name: content_view_logs; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.content_view_logs (log_id, user_id, content_id, viewed_at) FROM stdin;
1	1	100	2026-01-23 17:41:38.362291
\.


--
-- TOC entry 5362 (class 0 OID 25533)
-- Dependencies: 260
-- Data for Name: daily_recommendations; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.daily_recommendations (recommendation_id, user_id, date_for, meal_type, food_id, reason_text, is_accepted) FROM stdin;
\.


--
-- TOC entry 5346 (class 0 OID 25448)
-- Dependencies: 244
-- Data for Name: daily_summaries; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.daily_summaries (summary_id, user_id, date_record, water_intake_glasses, total_calories_intake, total_protein, total_carbs, total_fat, goal_calories, is_goal_met) FROM stdin;
2	1	2026-01-23	0	800.00	24.00	80.00	40.00	\N	\N
3	2	2026-01-23	0	794.00	39.00	96.40	26.20	\N	f
\.


--
-- TOC entry 5331 (class 0 OID 25366)
-- Dependencies: 229
-- Data for Name: favorite_foods; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.favorite_foods (favorite_id, user_id, food_id, created_at) FROM stdin;
\.


--
-- TOC entry 5334 (class 0 OID 25387)
-- Dependencies: 232
-- Data for Name: food_allergy_flags; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.food_allergy_flags (food_id, flag_id) FROM stdin;
88	1
\.


--
-- TOC entry 5336 (class 0 OID 25395)
-- Dependencies: 234
-- Data for Name: food_sources; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.food_sources (source_id, food_id, source_name, source_url, raw_calories, recorded_at) FROM stdin;
\.


--
-- TOC entry 5333 (class 0 OID 25374)
-- Dependencies: 231
-- Data for Name: foods; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.foods (food_id, food_name, food_type, calories, protein, carbs, fat, sodium, sugar, cholesterol, serving_quantity, serving_unit, image_url, created_at, updated_at, deleted_at) FROM stdin;
50	ราดหน้าหมู	recipe_dish	397.00	19.50	48.20	13.10	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
51	ราดหน้าหมูกรอบ	recipe_dish	580.00	16.50	48.20	35.50	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
52	ราดหน้ารวมมิตร	recipe_dish	450.00	25.00	49.00	15.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
53	ผัดซีอิ๊วหมู	recipe_dish	520.00	20.00	55.00	24.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
54	ผัดซีอิ๊วหมูกรอบ	recipe_dish	690.00	18.00	55.00	42.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
55	ผัดซีอิ๊วรวมมิตร	recipe_dish	560.00	28.00	59.00	25.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
56	เส้นใหญ่ผัดขี้เมาหมู	recipe_dish	480.00	20.00	55.00	22.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
57	เส้นใหญ่ผัดขี้เมารวมมิตร	recipe_dish	520.00	26.00	56.00	23.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
58	มาม่าผัดขี้เมาหมู	recipe_dish	530.00	18.00	62.00	25.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
59	มาม่าผัดขี้เมารวมมิตร	recipe_dish	570.00	24.00	63.00	26.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
60	สุกี้น้ำหมู	recipe_dish	320.00	22.00	35.00	10.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
61	สุกี้แห้งหมู	recipe_dish	380.00	22.00	35.00	16.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
62	สุกี้น้ำรวมมิตร	recipe_dish	350.00	28.00	36.00	11.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
63	สุกี้แห้งรวมมิตร	recipe_dish	410.00	28.00	36.00	17.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
64	ต้มจืดไข่น้ำ	recipe_dish	250.00	14.00	8.00	18.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
65	ต้มจืดเต้าหู้หมูสับสาหร่าย	recipe_dish	180.00	15.00	12.00	8.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
66	ต้มยำน้ำใสทะเล	recipe_dish	190.00	25.00	10.00	6.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
67	ต้มยำน้ำข้นทะเล	recipe_dish	350.00	25.00	15.00	22.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
68	ต้มยำน้ำใสรวมมิตร	recipe_dish	210.00	28.00	11.00	7.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
69	ต้มยำน้ำข้นรวมมิตร	recipe_dish	380.00	28.00	16.00	23.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
70	ข้าวต้มปลา	recipe_dish	280.00	18.00	45.00	4.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
71	จิ้มจุ่ม	recipe_dish	450.00	35.00	40.00	12.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
72	ไข่เจียว	recipe_dish	260.00	7.00	2.00	24.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
73	ไข่ดาว	recipe_dish	165.00	6.00	1.00	15.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
74	ข้าวไข่เจียวหมูสับ	recipe_dish	620.00	22.00	55.00	38.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
75	ข้าวไข่เจียวกุ้งสับ	recipe_dish	600.00	24.00	55.00	35.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
76	ข้าวผัดหมู	recipe_dish	590.00	20.00	70.00	24.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
77	ข้าวผัดทะเล	recipe_dish	570.00	24.00	70.00	22.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
78	ข้าวผัดรวมมิตร	recipe_dish	600.00	26.00	71.00	23.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
79	ข้าวหมูทอดกระเทียม	recipe_dish	550.00	22.00	60.00	25.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
80	ข้าวผัดคะน้าหมูกรอบ	recipe_dish	640.00	16.00	60.00	40.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
81	ข้าวผัดเครื่องแกงหมู	recipe_dish	530.00	22.00	60.00	22.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
82	ข้าวผัดเครื่องแกงหมูกรอบ	recipe_dish	660.00	16.00	60.00	42.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
83	ข้าวผัดเครื่องแกงปลาดุก	recipe_dish	500.00	24.00	60.00	20.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
84	ข้าวผัดเครื่องแกงรวมมิตร	recipe_dish	550.00	28.00	61.00	22.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
85	ข้าวกระเพราหมู	recipe_dish	580.00	22.00	60.00	28.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
86	ข้าวกระเพราหมูกรอบ	recipe_dish	700.00	16.00	60.00	45.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
87	ข้าวกระเพราปลาดุก	recipe_dish	510.00	24.00	60.00	20.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
88	ข้าวกระเพรารวมมิตร	recipe_dish	580.00	28.00	61.00	25.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
89	ข้าวผัดพริกหยวกหมู	recipe_dish	530.00	22.00	60.00	24.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
90	ข้าวผัดพริกหยวกหมูกรอบ	recipe_dish	650.00	16.00	60.00	42.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
91	ข้าวผัดพริกหยวกปลาดุก	recipe_dish	500.00	24.00	60.00	20.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
92	ข้าวผัดพริกหยวกรวมมิตร	recipe_dish	550.00	28.00	61.00	24.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
93	ข้าวผัดผักบุ้งหมูกรอบ	recipe_dish	620.00	16.00	60.00	38.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
94	ข้าวผัดคะน้าปลาเค็ม	recipe_dish	480.00	18.00	60.00	20.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
95	ข้าวผัดน้ำพริกเผาหมู	recipe_dish	590.00	22.00	65.00	28.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
96	ข้าวผัดน้ำพริกเผาหมูกรอบ	recipe_dish	710.00	16.00	65.00	45.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
97	ข้าวผัดน้ำพริกเผาปลาดุก	recipe_dish	550.00	24.00	65.00	22.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
98	ข้าวผัดน้ำพริกเผารวมมิตร	recipe_dish	610.00	28.00	66.00	28.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
201	ไข่ไก่	raw_ingredient	70.00	7.00	0.00	5.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
202	ข้าวหอมมะลิ/ข้าวสวย	raw_ingredient	80.00	2.00	18.00	0.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
203	น้ำมันพืช	raw_ingredient	120.00	0.00	0.00	14.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
204	เนื้อหมู	raw_ingredient	120.00	10.00	0.00	8.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
205	กุ้งสับ	raw_ingredient	50.00	10.00	0.00	1.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
207	หมูกรอบ	raw_ingredient	250.00	7.00	0.00	25.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
209	เครื่องปรุงรส (ซอส/น้ำปลา)	raw_ingredient	10.00	1.00	1.00	0.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
211	ใบกะเพรา/ผัก	raw_ingredient	5.00	0.00	1.00	0.00	\N	\N	\N	100.00	g	\N	2026-01-23 16:44:41.869578	\N	\N
99	PB Sandwich	recipe_dish	400.00	12.00	40.00	20.00	\N	\N	\N	100.00	g	\N	2026-01-23 17:41:38.362291	\N	\N
20	Grilled Chicken Salad	recipe_dish	350.00	\N	\N	\N	\N	\N	\N	100.00	g	\N	2026-01-23 17:41:38.362291	\N	\N
\.


--
-- TOC entry 5373 (class 0 OID 25593)
-- Dependencies: 271
-- Data for Name: health_contents; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.health_contents (content_id, title, type, thumbnail_url, resource_url, description, category_tag, difficulty_level, is_published, created_at) FROM stdin;
100	How to Squat Correctly	video	\N	\N	\N	workout	\N	t	2026-01-23 17:41:38.362291
\.


--
-- TOC entry 5350 (class 0 OID 25471)
-- Dependencies: 248
-- Data for Name: meal_items; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.meal_items (item_id, meal_id, food_id, amount, food_name, cal_per_unit, protein_per_unit, carbs_per_unit, fat_per_unit, note) FROM stdin;
2	2	99	2.00	PB Sandwich	400.00	12.00	40.00	20.00	\N
6	6	50	1.00	ราดหน้าหมู	397.00	19.50	48.20	13.10	\N
7	7	50	1.00	ราดหน้าหมู	397.00	19.50	48.20	13.10	\N
\.


--
-- TOC entry 5348 (class 0 OID 25462)
-- Dependencies: 246
-- Data for Name: meals; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.meals (meal_id, user_id, meal_type, meal_time, created_at, updated_at) FROM stdin;
2	1	breakfast	2026-01-23 17:41:38.362291	2026-01-23 17:41:38.362291	\N
6	2	lunch	2026-01-23 18:48:00.012454	2026-01-23 18:48:00.012454	\N
7	2	dinner	2026-01-23 18:56:43.974465	2026-01-23 18:56:43.974465	\N
\.


--
-- TOC entry 5368 (class 0 OID 25561)
-- Dependencies: 266
-- Data for Name: notifications; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.notifications (notification_id, user_id, title, message, type, is_read, created_at) FROM stdin;
\.


--
-- TOC entry 5342 (class 0 OID 25430)
-- Dependencies: 240
-- Data for Name: recipe_ingredients; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.recipe_ingredients (id, recipe_id, ingredient_food_id, amount, unit_id, calculated_grams, note) FROM stdin;
\.


--
-- TOC entry 5338 (class 0 OID 25405)
-- Dependencies: 236
-- Data for Name: recipes; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.recipes (recipe_id, food_id, description, instructions, prep_time_minutes, cooking_time_minutes, serving_people, source_reference, calculation_note, created_at, deleted_at) FROM stdin;
\.


--
-- TOC entry 5322 (class 0 OID 25306)
-- Dependencies: 220
-- Data for Name: roles; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.roles (role_id, role_name) FROM stdin;
1	admin
2	user
\.


--
-- TOC entry 5370 (class 0 OID 25573)
-- Dependencies: 268
-- Data for Name: system_announcements; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.system_announcements (announcement_id, title, message, image_url, target_role, is_active, created_at) FROM stdin;
\.


--
-- TOC entry 5344 (class 0 OID 25439)
-- Dependencies: 242
-- Data for Name: unit_conversions; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.unit_conversions (conversion_id, food_id, unit_id, grams_per_unit, created_at) FROM stdin;
\.


--
-- TOC entry 5340 (class 0 OID 25420)
-- Dependencies: 238
-- Data for Name: units; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.units (unit_id, name) FROM stdin;
\.


--
-- TOC entry 5366 (class 0 OID 25553)
-- Dependencies: 264
-- Data for Name: user_achievements; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_achievements (id, user_id, achievement_id, earned_at) FROM stdin;
\.


--
-- TOC entry 5360 (class 0 OID 25522)
-- Dependencies: 258
-- Data for Name: user_active_plans; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_active_plans (id, user_id, plan_id, start_date, status) FROM stdin;
1	2	10	2026-01-21	ACTIVE
\.


--
-- TOC entry 5329 (class 0 OID 25355)
-- Dependencies: 227
-- Data for Name: user_allergy_preferences; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_allergy_preferences (user_id, flag_id, preference_type, created_at) FROM stdin;
1	1	ALLERGY	2026-01-23 17:41:38.362291
\.


--
-- TOC entry 5358 (class 0 OID 25513)
-- Dependencies: 256
-- Data for Name: user_meal_plan_items; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_meal_plan_items (plan_item_id, plan_id, day_number, meal_type, food_id, note) FROM stdin;
1	10	3	lunch	20	\N
\.


--
-- TOC entry 5356 (class 0 OID 25499)
-- Dependencies: 254
-- Data for Name: user_meal_plans; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_meal_plans (plan_id, user_id, name, description, source_type, ai_prompt_preferences, goal_tag, duration_days, is_premium, status, created_at) FROM stdin;
10	2	7-Day Keto Challenge	\N	SYSTEM	\N	\N	7	f	ACTIVE	2026-01-23 17:41:38.362291
\.


--
-- TOC entry 5371 (class 0 OID 25584)
-- Dependencies: 269
-- Data for Name: user_read_announcements; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_read_announcements (user_id, announcement_id, read_at) FROM stdin;
\.


--
-- TOC entry 5354 (class 0 OID 25489)
-- Dependencies: 252
-- Data for Name: user_reports; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_reports (report_id, user_id, report_type, start_date, end_date, avg_daily_calories, total_weight_change, compliance_score, insight_text, created_at) FROM stdin;
\.


--
-- TOC entry 5375 (class 0 OID 25605)
-- Dependencies: 273
-- Data for Name: user_saved_contents; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_saved_contents (id, user_id, content_id, saved_at) FROM stdin;
\.


--
-- TOC entry 5326 (class 0 OID 25337)
-- Dependencies: 224
-- Data for Name: user_stats; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.user_stats (stat_id, user_id, date_logged, weight_kg, height_cm, activity_level, bmi, bmr, tdee, created_at) FROM stdin;
1	1	2026-01-23	\N	\N	\N	\N	\N	\N	2026-01-23 16:04:22.988231
2	2	2026-01-23	70.00	180.00	\N	\N	\N	\N	2026-01-23 16:07:51.517517
4	4	2026-01-23	60.00	180.00	\N	\N	\N	\N	2026-01-23 17:43:32.468929
6	5	2026-01-23	70.00	180.00	\N	\N	\N	\N	2026-01-23 19:03:56.852321
\.


--
-- TOC entry 5324 (class 0 OID 25318)
-- Dependencies: 222
-- Data for Name: users; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.users (user_id, username, email, password_hash, gender, birth_date, height_cm, current_weight_kg, goal_type, target_weight_kg, target_calories, activity_level, goal_start_date, goal_target_date, last_kpi_check_date, current_streak, last_login_date, total_login_days, avatar_url, role_id, created_at, updated_at, deleted_at) FROM stdin;
5	check	check@gmail.com	$2b$12$IIN6zRew8KfQ13oehzjbAOdwT0rYSi/6jCvv2uDMsbt0KF/EyWBp6	male	2000-01-13	180.00	70.00	\N	\N	\N	\N	2026-01-23	\N	2026-01-23	0	\N	0	\N	2	2026-01-23 19:03:56.852321	\N	\N
2	test	test@gmail.com	$2b$12$Xm/uSBoMGu9dOsRF6v3KUuX8ee5QOeQwojDP78Sr90crM8Qs62u3S	male	2004-01-20	180.00	70.00	lose_weight	70.00	1564	sedentary	2026-01-23	2026-04-17	2026-01-23	0	\N	0	\N	2	2026-01-23 16:07:51.517517	\N	\N
3	Tony_Diet	tony@test.com	pass123	male	\N	175.00	75.00	lose_weight	70.00	\N	sedentary	2026-01-23	\N	2026-01-23	0	\N	0	\N	2	2026-01-23 17:41:38.362291	\N	\N
1	kuy11	kuy@gmail.com	$2b$12$0VgljndjRymHlN9xVvv9teVEaQBrOCROYQvpH06ZtcUccJtYR3Cb.	male	1995-05-15	180.00	80.00	gain_muscle	\N	\N	very_active	2026-01-23	\N	2026-01-23	7	\N	0	\N	2	2026-01-23 16:04:22.988231	\N	\N
4	test2	test3@gmail.com	$2b$12$YzwqJMLZIn0UEcCQea9xfOfkaLtxomd39nmB1pSheRMbNZuv08dxu	male	2000-01-19	180.00	60.00	maintain_weight	60.00	1920	sedentary	2026-01-23	2026-02-27	2026-01-23	0	\N	0	\N	2	2026-01-23 17:43:32.468929	\N	\N
\.


--
-- TOC entry 5352 (class 0 OID 25481)
-- Dependencies: 250
-- Data for Name: weight_logs; Type: TABLE DATA; Schema: cleangoal; Owner: postgres
--

COPY cleangoal.weight_logs (log_id, user_id, weight_kg, recorded_date) FROM stdin;
1	3	80.00	2025-12-24
\.


--
-- TOC entry 5385 (class 0 OID 0)
-- Dependencies: 261
-- Name: achievements_achievement_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.achievements_achievement_id_seq', 1, true);


--
-- TOC entry 5386 (class 0 OID 0)
-- Dependencies: 225
-- Name: allergy_flags_flag_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.allergy_flags_flag_id_seq', 1, false);


--
-- TOC entry 5387 (class 0 OID 0)
-- Dependencies: 274
-- Name: content_view_logs_log_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.content_view_logs_log_id_seq', 1, true);


--
-- TOC entry 5388 (class 0 OID 0)
-- Dependencies: 259
-- Name: daily_recommendations_recommendation_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.daily_recommendations_recommendation_id_seq', 1, false);


--
-- TOC entry 5389 (class 0 OID 0)
-- Dependencies: 243
-- Name: daily_summaries_summary_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.daily_summaries_summary_id_seq', 8, true);


--
-- TOC entry 5390 (class 0 OID 0)
-- Dependencies: 228
-- Name: favorite_foods_favorite_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.favorite_foods_favorite_id_seq', 1, false);


--
-- TOC entry 5391 (class 0 OID 0)
-- Dependencies: 233
-- Name: food_sources_source_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.food_sources_source_id_seq', 1, false);


--
-- TOC entry 5392 (class 0 OID 0)
-- Dependencies: 230
-- Name: foods_food_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.foods_food_id_seq', 1, false);


--
-- TOC entry 5393 (class 0 OID 0)
-- Dependencies: 270
-- Name: health_contents_content_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.health_contents_content_id_seq', 1, false);


--
-- TOC entry 5394 (class 0 OID 0)
-- Dependencies: 247
-- Name: meal_items_item_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.meal_items_item_id_seq', 8, true);


--
-- TOC entry 5395 (class 0 OID 0)
-- Dependencies: 245
-- Name: meals_meal_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.meals_meal_id_seq', 8, true);


--
-- TOC entry 5396 (class 0 OID 0)
-- Dependencies: 265
-- Name: notifications_notification_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.notifications_notification_id_seq', 1, false);


--
-- TOC entry 5397 (class 0 OID 0)
-- Dependencies: 239
-- Name: recipe_ingredients_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.recipe_ingredients_id_seq', 1, false);


--
-- TOC entry 5398 (class 0 OID 0)
-- Dependencies: 235
-- Name: recipes_recipe_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.recipes_recipe_id_seq', 1, false);


--
-- TOC entry 5399 (class 0 OID 0)
-- Dependencies: 219
-- Name: roles_role_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.roles_role_id_seq', 1, false);


--
-- TOC entry 5400 (class 0 OID 0)
-- Dependencies: 267
-- Name: system_announcements_announcement_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.system_announcements_announcement_id_seq', 1, false);


--
-- TOC entry 5401 (class 0 OID 0)
-- Dependencies: 241
-- Name: unit_conversions_conversion_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.unit_conversions_conversion_id_seq', 1, false);


--
-- TOC entry 5402 (class 0 OID 0)
-- Dependencies: 237
-- Name: units_unit_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.units_unit_id_seq', 1, false);


--
-- TOC entry 5403 (class 0 OID 0)
-- Dependencies: 263
-- Name: user_achievements_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_achievements_id_seq', 1, false);


--
-- TOC entry 5404 (class 0 OID 0)
-- Dependencies: 257
-- Name: user_active_plans_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_active_plans_id_seq', 1, true);


--
-- TOC entry 5405 (class 0 OID 0)
-- Dependencies: 255
-- Name: user_meal_plan_items_plan_item_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_meal_plan_items_plan_item_id_seq', 1, true);


--
-- TOC entry 5406 (class 0 OID 0)
-- Dependencies: 253
-- Name: user_meal_plans_plan_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_meal_plans_plan_id_seq', 1, false);


--
-- TOC entry 5407 (class 0 OID 0)
-- Dependencies: 251
-- Name: user_reports_report_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_reports_report_id_seq', 1, false);


--
-- TOC entry 5408 (class 0 OID 0)
-- Dependencies: 272
-- Name: user_saved_contents_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_saved_contents_id_seq', 1, false);


--
-- TOC entry 5409 (class 0 OID 0)
-- Dependencies: 223
-- Name: user_stats_stat_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.user_stats_stat_id_seq', 7, true);


--
-- TOC entry 5410 (class 0 OID 0)
-- Dependencies: 221
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.users_user_id_seq', 5, true);


--
-- TOC entry 5411 (class 0 OID 0)
-- Dependencies: 249
-- Name: weight_logs_log_id_seq; Type: SEQUENCE SET; Schema: cleangoal; Owner: postgres
--

SELECT pg_catalog.setval('cleangoal.weight_logs_log_id_seq', 1, true);


--
-- TOC entry 5122 (class 2606 OID 25551)
-- Name: achievements achievements_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.achievements
    ADD CONSTRAINT achievements_pkey PRIMARY KEY (achievement_id);


--
-- TOC entry 5080 (class 2606 OID 25354)
-- Name: allergy_flags allergy_flags_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.allergy_flags
    ADD CONSTRAINT allergy_flags_pkey PRIMARY KEY (flag_id);


--
-- TOC entry 5137 (class 2606 OID 25619)
-- Name: content_view_logs content_view_logs_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.content_view_logs
    ADD CONSTRAINT content_view_logs_pkey PRIMARY KEY (log_id);


--
-- TOC entry 5120 (class 2606 OID 25541)
-- Name: daily_recommendations daily_recommendations_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.daily_recommendations
    ADD CONSTRAINT daily_recommendations_pkey PRIMARY KEY (recommendation_id);


--
-- TOC entry 5103 (class 2606 OID 25460)
-- Name: daily_summaries daily_summaries_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.daily_summaries
    ADD CONSTRAINT daily_summaries_pkey PRIMARY KEY (summary_id);


--
-- TOC entry 5084 (class 2606 OID 25372)
-- Name: favorite_foods favorite_foods_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.favorite_foods
    ADD CONSTRAINT favorite_foods_pkey PRIMARY KEY (favorite_id);


--
-- TOC entry 5088 (class 2606 OID 25393)
-- Name: food_allergy_flags food_allergy_flags_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.food_allergy_flags
    ADD CONSTRAINT food_allergy_flags_pkey PRIMARY KEY (food_id, flag_id);


--
-- TOC entry 5090 (class 2606 OID 25403)
-- Name: food_sources food_sources_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.food_sources
    ADD CONSTRAINT food_sources_pkey PRIMARY KEY (source_id);


--
-- TOC entry 5086 (class 2606 OID 25386)
-- Name: foods foods_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.foods
    ADD CONSTRAINT foods_pkey PRIMARY KEY (food_id);


--
-- TOC entry 5132 (class 2606 OID 25603)
-- Name: health_contents health_contents_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.health_contents
    ADD CONSTRAINT health_contents_pkey PRIMARY KEY (content_id);


--
-- TOC entry 5108 (class 2606 OID 25479)
-- Name: meal_items meal_items_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.meal_items
    ADD CONSTRAINT meal_items_pkey PRIMARY KEY (item_id);


--
-- TOC entry 5106 (class 2606 OID 25469)
-- Name: meals meals_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.meals
    ADD CONSTRAINT meals_pkey PRIMARY KEY (meal_id);


--
-- TOC entry 5126 (class 2606 OID 25571)
-- Name: notifications notifications_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.notifications
    ADD CONSTRAINT notifications_pkey PRIMARY KEY (notification_id);


--
-- TOC entry 5098 (class 2606 OID 25437)
-- Name: recipe_ingredients recipe_ingredients_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.recipe_ingredients
    ADD CONSTRAINT recipe_ingredients_pkey PRIMARY KEY (id);


--
-- TOC entry 5092 (class 2606 OID 25418)
-- Name: recipes recipes_food_id_key; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.recipes
    ADD CONSTRAINT recipes_food_id_key UNIQUE (food_id);


--
-- TOC entry 5094 (class 2606 OID 25416)
-- Name: recipes recipes_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.recipes
    ADD CONSTRAINT recipes_pkey PRIMARY KEY (recipe_id);


--
-- TOC entry 5069 (class 2606 OID 25314)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role_id);


--
-- TOC entry 5071 (class 2606 OID 25316)
-- Name: roles roles_role_name_key; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.roles
    ADD CONSTRAINT roles_role_name_key UNIQUE (role_name);


--
-- TOC entry 5128 (class 2606 OID 25583)
-- Name: system_announcements system_announcements_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.system_announcements
    ADD CONSTRAINT system_announcements_pkey PRIMARY KEY (announcement_id);


--
-- TOC entry 5101 (class 2606 OID 25446)
-- Name: unit_conversions unit_conversions_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.unit_conversions
    ADD CONSTRAINT unit_conversions_pkey PRIMARY KEY (conversion_id);


--
-- TOC entry 5096 (class 2606 OID 25428)
-- Name: units units_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.units
    ADD CONSTRAINT units_pkey PRIMARY KEY (unit_id);


--
-- TOC entry 5124 (class 2606 OID 25559)
-- Name: user_achievements user_achievements_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_achievements
    ADD CONSTRAINT user_achievements_pkey PRIMARY KEY (id);


--
-- TOC entry 5118 (class 2606 OID 25531)
-- Name: user_active_plans user_active_plans_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_active_plans
    ADD CONSTRAINT user_active_plans_pkey PRIMARY KEY (id);


--
-- TOC entry 5082 (class 2606 OID 25364)
-- Name: user_allergy_preferences user_allergy_preferences_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_allergy_preferences
    ADD CONSTRAINT user_allergy_preferences_pkey PRIMARY KEY (user_id, flag_id);


--
-- TOC entry 5116 (class 2606 OID 25520)
-- Name: user_meal_plan_items user_meal_plan_items_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_meal_plan_items
    ADD CONSTRAINT user_meal_plan_items_pkey PRIMARY KEY (plan_item_id);


--
-- TOC entry 5114 (class 2606 OID 25511)
-- Name: user_meal_plans user_meal_plans_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_meal_plans
    ADD CONSTRAINT user_meal_plans_pkey PRIMARY KEY (plan_id);


--
-- TOC entry 5130 (class 2606 OID 25591)
-- Name: user_read_announcements user_read_announcements_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_read_announcements
    ADD CONSTRAINT user_read_announcements_pkey PRIMARY KEY (user_id, announcement_id);


--
-- TOC entry 5112 (class 2606 OID 25497)
-- Name: user_reports user_reports_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_reports
    ADD CONSTRAINT user_reports_pkey PRIMARY KEY (report_id);


--
-- TOC entry 5134 (class 2606 OID 25611)
-- Name: user_saved_contents user_saved_contents_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_saved_contents
    ADD CONSTRAINT user_saved_contents_pkey PRIMARY KEY (id);


--
-- TOC entry 5077 (class 2606 OID 25344)
-- Name: user_stats user_stats_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_stats
    ADD CONSTRAINT user_stats_pkey PRIMARY KEY (stat_id);


--
-- TOC entry 5073 (class 2606 OID 25335)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 5075 (class 2606 OID 25333)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 5110 (class 2606 OID 25487)
-- Name: weight_logs weight_logs_pkey; Type: CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.weight_logs
    ADD CONSTRAINT weight_logs_pkey PRIMARY KEY (log_id);


--
-- TOC entry 5104 (class 1259 OID 25622)
-- Name: daily_summaries_user_id_date_record_idx; Type: INDEX; Schema: cleangoal; Owner: postgres
--

CREATE UNIQUE INDEX daily_summaries_user_id_date_record_idx ON cleangoal.daily_summaries USING btree (user_id, date_record);


--
-- TOC entry 5099 (class 1259 OID 25621)
-- Name: unit_conversions_food_id_unit_id_idx; Type: INDEX; Schema: cleangoal; Owner: postgres
--

CREATE UNIQUE INDEX unit_conversions_food_id_unit_id_idx ON cleangoal.unit_conversions USING btree (food_id, unit_id);


--
-- TOC entry 5135 (class 1259 OID 25623)
-- Name: user_saved_contents_user_id_content_id_idx; Type: INDEX; Schema: cleangoal; Owner: postgres
--

CREATE UNIQUE INDEX user_saved_contents_user_id_content_id_idx ON cleangoal.user_saved_contents USING btree (user_id, content_id);


--
-- TOC entry 5078 (class 1259 OID 25620)
-- Name: user_stats_user_id_date_logged_idx; Type: INDEX; Schema: cleangoal; Owner: postgres
--

CREATE UNIQUE INDEX user_stats_user_id_date_logged_idx ON cleangoal.user_stats USING btree (user_id, date_logged);


--
-- TOC entry 5172 (class 2606 OID 25804)
-- Name: content_view_logs content_view_logs_content_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.content_view_logs
    ADD CONSTRAINT content_view_logs_content_id_fkey FOREIGN KEY (content_id) REFERENCES cleangoal.health_contents(content_id) ON DELETE SET NULL;


--
-- TOC entry 5173 (class 2606 OID 25799)
-- Name: content_view_logs content_view_logs_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.content_view_logs
    ADD CONSTRAINT content_view_logs_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE SET NULL;


--
-- TOC entry 5163 (class 2606 OID 25759)
-- Name: daily_recommendations daily_recommendations_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.daily_recommendations
    ADD CONSTRAINT daily_recommendations_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id);


--
-- TOC entry 5164 (class 2606 OID 25754)
-- Name: daily_recommendations daily_recommendations_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.daily_recommendations
    ADD CONSTRAINT daily_recommendations_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5152 (class 2606 OID 25699)
-- Name: daily_summaries daily_summaries_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.daily_summaries
    ADD CONSTRAINT daily_summaries_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5142 (class 2606 OID 25649)
-- Name: favorite_foods favorite_foods_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.favorite_foods
    ADD CONSTRAINT favorite_foods_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id) ON DELETE CASCADE;


--
-- TOC entry 5143 (class 2606 OID 25644)
-- Name: favorite_foods favorite_foods_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.favorite_foods
    ADD CONSTRAINT favorite_foods_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5144 (class 2606 OID 25659)
-- Name: food_allergy_flags food_allergy_flags_flag_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.food_allergy_flags
    ADD CONSTRAINT food_allergy_flags_flag_id_fkey FOREIGN KEY (flag_id) REFERENCES cleangoal.allergy_flags(flag_id) ON DELETE CASCADE;


--
-- TOC entry 5145 (class 2606 OID 25654)
-- Name: food_allergy_flags food_allergy_flags_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.food_allergy_flags
    ADD CONSTRAINT food_allergy_flags_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id) ON DELETE CASCADE;


--
-- TOC entry 5146 (class 2606 OID 25664)
-- Name: food_sources food_sources_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.food_sources
    ADD CONSTRAINT food_sources_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id) ON DELETE SET NULL;


--
-- TOC entry 5154 (class 2606 OID 25714)
-- Name: meal_items meal_items_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.meal_items
    ADD CONSTRAINT meal_items_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id);


--
-- TOC entry 5155 (class 2606 OID 25709)
-- Name: meal_items meal_items_meal_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.meal_items
    ADD CONSTRAINT meal_items_meal_id_fkey FOREIGN KEY (meal_id) REFERENCES cleangoal.meals(meal_id) ON DELETE CASCADE;


--
-- TOC entry 5153 (class 2606 OID 25704)
-- Name: meals meals_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.meals
    ADD CONSTRAINT meals_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5167 (class 2606 OID 25774)
-- Name: notifications notifications_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.notifications
    ADD CONSTRAINT notifications_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5147 (class 2606 OID 25679)
-- Name: recipe_ingredients recipe_ingredients_ingredient_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.recipe_ingredients
    ADD CONSTRAINT recipe_ingredients_ingredient_food_id_fkey FOREIGN KEY (ingredient_food_id) REFERENCES cleangoal.foods(food_id);


--
-- TOC entry 5148 (class 2606 OID 25674)
-- Name: recipe_ingredients recipe_ingredients_recipe_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.recipe_ingredients
    ADD CONSTRAINT recipe_ingredients_recipe_id_fkey FOREIGN KEY (recipe_id) REFERENCES cleangoal.recipes(recipe_id) ON DELETE CASCADE;


--
-- TOC entry 5149 (class 2606 OID 25684)
-- Name: recipe_ingredients recipe_ingredients_unit_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.recipe_ingredients
    ADD CONSTRAINT recipe_ingredients_unit_id_fkey FOREIGN KEY (unit_id) REFERENCES cleangoal.units(unit_id);


--
-- TOC entry 5150 (class 2606 OID 25689)
-- Name: unit_conversions unit_conversions_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.unit_conversions
    ADD CONSTRAINT unit_conversions_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id) ON DELETE CASCADE;


--
-- TOC entry 5151 (class 2606 OID 25694)
-- Name: unit_conversions unit_conversions_unit_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.unit_conversions
    ADD CONSTRAINT unit_conversions_unit_id_fkey FOREIGN KEY (unit_id) REFERENCES cleangoal.units(unit_id);


--
-- TOC entry 5165 (class 2606 OID 25769)
-- Name: user_achievements user_achievements_achievement_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_achievements
    ADD CONSTRAINT user_achievements_achievement_id_fkey FOREIGN KEY (achievement_id) REFERENCES cleangoal.achievements(achievement_id);


--
-- TOC entry 5166 (class 2606 OID 25764)
-- Name: user_achievements user_achievements_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_achievements
    ADD CONSTRAINT user_achievements_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5161 (class 2606 OID 25749)
-- Name: user_active_plans user_active_plans_plan_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_active_plans
    ADD CONSTRAINT user_active_plans_plan_id_fkey FOREIGN KEY (plan_id) REFERENCES cleangoal.user_meal_plans(plan_id);


--
-- TOC entry 5162 (class 2606 OID 25744)
-- Name: user_active_plans user_active_plans_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_active_plans
    ADD CONSTRAINT user_active_plans_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5140 (class 2606 OID 25639)
-- Name: user_allergy_preferences user_allergy_preferences_flag_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_allergy_preferences
    ADD CONSTRAINT user_allergy_preferences_flag_id_fkey FOREIGN KEY (flag_id) REFERENCES cleangoal.allergy_flags(flag_id) ON DELETE CASCADE;


--
-- TOC entry 5141 (class 2606 OID 25634)
-- Name: user_allergy_preferences user_allergy_preferences_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_allergy_preferences
    ADD CONSTRAINT user_allergy_preferences_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5159 (class 2606 OID 25739)
-- Name: user_meal_plan_items user_meal_plan_items_food_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_meal_plan_items
    ADD CONSTRAINT user_meal_plan_items_food_id_fkey FOREIGN KEY (food_id) REFERENCES cleangoal.foods(food_id);


--
-- TOC entry 5160 (class 2606 OID 25734)
-- Name: user_meal_plan_items user_meal_plan_items_plan_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_meal_plan_items
    ADD CONSTRAINT user_meal_plan_items_plan_id_fkey FOREIGN KEY (plan_id) REFERENCES cleangoal.user_meal_plans(plan_id) ON DELETE CASCADE;


--
-- TOC entry 5158 (class 2606 OID 25729)
-- Name: user_meal_plans user_meal_plans_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_meal_plans
    ADD CONSTRAINT user_meal_plans_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE SET NULL;


--
-- TOC entry 5168 (class 2606 OID 25784)
-- Name: user_read_announcements user_read_announcements_announcement_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_read_announcements
    ADD CONSTRAINT user_read_announcements_announcement_id_fkey FOREIGN KEY (announcement_id) REFERENCES cleangoal.system_announcements(announcement_id) ON DELETE CASCADE;


--
-- TOC entry 5169 (class 2606 OID 25779)
-- Name: user_read_announcements user_read_announcements_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_read_announcements
    ADD CONSTRAINT user_read_announcements_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5157 (class 2606 OID 25724)
-- Name: user_reports user_reports_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_reports
    ADD CONSTRAINT user_reports_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5170 (class 2606 OID 25794)
-- Name: user_saved_contents user_saved_contents_content_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_saved_contents
    ADD CONSTRAINT user_saved_contents_content_id_fkey FOREIGN KEY (content_id) REFERENCES cleangoal.health_contents(content_id) ON DELETE CASCADE;


--
-- TOC entry 5171 (class 2606 OID 25789)
-- Name: user_saved_contents user_saved_contents_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_saved_contents
    ADD CONSTRAINT user_saved_contents_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5139 (class 2606 OID 25629)
-- Name: user_stats user_stats_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.user_stats
    ADD CONSTRAINT user_stats_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 5138 (class 2606 OID 25624)
-- Name: users users_role_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.users
    ADD CONSTRAINT users_role_id_fkey FOREIGN KEY (role_id) REFERENCES cleangoal.roles(role_id);


--
-- TOC entry 5156 (class 2606 OID 25719)
-- Name: weight_logs weight_logs_user_id_fkey; Type: FK CONSTRAINT; Schema: cleangoal; Owner: postgres
--

ALTER TABLE ONLY cleangoal.weight_logs
    ADD CONSTRAINT weight_logs_user_id_fkey FOREIGN KEY (user_id) REFERENCES cleangoal.users(user_id) ON DELETE CASCADE;


-- Completed on 2026-01-23 21:40:14

--
-- PostgreSQL database dump complete
--

\unrestrict DtSm99PzWt4I3thzG6MqsY4KoqaSMLV5ULrymnbdgcpP9O6Wx8O2LkOTG54f2bh

